？scan
??scan
sp = geySymbols("SSEC")
library(zoo)
library(xts)
library(TTR)
library(Defaults)
library(quantmod)
sp = geySymbols("SSEC")
sp = getSymbols("SSEC")
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(rtn("000002.sz"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
hist(rtn("000002.sz"), prob = T)
y <- getSymbols("^GSPC", auto.assign = FALSE)
rtn <- diff(Cl(y), 1)
rtn <- rtn[-1]
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(rtn("000002.sz"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
plot.density(rtn)
density(rtn)
plot(density(rtn))
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(rtn("000002.sz"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
plot(density(rtn))
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(rtn("000002.sz"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
plot(density(as.numeric(rtn))
)
head(rtn)
plot(density(rtn("000002.sz")))
plot(density(rtn("000002.sz")))
abline(density(rnorm(1000)))
plot(density(rtn("000002.sz")))
abline(density(rnorm(1000)))
lines(density(rnorm(1000)))
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(rtn("000002.sz"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(rtn("000002.sz"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
plot(density(rtn("000002.sz")))
lines(density(rnorm(1000)))
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(rtn("000002.sz"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
plot(density(rtn("000002.sz")), main = "万科")
lines(density(rnorm(1000)), col = "red")
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(rtn("000002.sz"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
plot(density(rtn("000002.sz")), main = "万科")
lines(density(rnorm(1000)), col = "red"， lwd = 3)
plot(density(rtn("000002.sz")), main = "万科")
lines(density(rnorm(1000)), col = "red"， lwd = 3)
lines(density(rnorm(1000)), col = "red", lwd = 3)
lines(density(rnorm(1000), 0, 4), col = "red", lwd = 3)
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(rtn("000002.sz"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
plot(density(rtn("000002.sz")), main = "万科")
lines(density(rnorm(1000, 0, 4)), col = "red", lwd = 3)
plot(density(rtn("000002.sz")), main = "万科")
plot.ts(rtn("000002.sz"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
plot(density(rtn("000002.sz")), main = "万科", col = "blue")
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3)
sp <- getSymbols("^GSPC", from = "1980-01-01")
chartSeries(sp)
library(zoo)
library(xts)
library(TTR)
library(Defaults)
library(quantmod)
sp <- getSymbols("^GSPC", from = "1980-01-01")
chartSeries(sp)
getSymbols("^GSPC", from = "1980-01-01")
chartSeries(GSPC)
plot.ts(rtn("^GSPC"), col = "red")
abline(h = 0, col = "blue", lwd = 3)
plot.ts(rtn("000002.sz"), col = "red")
plot.ts(rtn("^GSPC"), col = "red", main = "Daily Change in S&P500", ylab = "S&P")
abline(h = 0, col = "blue", lwd = 3)
plot.ts(rtn("^GSPC", from = "1980-01-01"), col = "red", main = "Daily Change in S&P500", ylab = "S&P")
abline(h = 0, col = "blue", lwd = 3)
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(as.ts(rtn("000002.sz")), col = "red")
## Loading......
library(zoo)
library(xts)
library(TTR)
library(Defaults)
library(quantmod)
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
tail(rtn("000002.sz"))
plot.ts(as.ts(rtn("000002.sz")), col = "red")
help(as.ts)
tail(rtn("000002.sz"))
plot.ts(as.ts(rtn("000002.sz"), start = c(2013,1), frequency = 365), col = "red")
plot.ts(as.ts(rtn("000002.sz"), start = c(2013,1), frequency = 30), col = "red")
plot.ts(as.ts(rtn("000002.sz"), start = c(2013,1), frequency = 12), col = "red")
plot.ts(as.ts(rtn("000002.sz"), start = c(2013,1)), col = "red")
plot.ts(as.ts(rtn("000002.sz"), start = c(2013,1,1)), col = "red")
plot.ts(as.ts(to.monthly(rtn("000002.sz")), start = c(2013,1)), col = "red")
plot.ts(as.ts(rtn("000002.sz"), start = c(2013,1)), col = "red")
chartSeries(rtn("000002.sz"))
chartSeries(rtn("000002.sz"), name = "万科A：收益率")
plot(density(rtn("000002.sz")), main = "万科", col = "blue")
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3)
plot(density(rtn("000002.sz")), main = "万科", col = "blue", lwd = 3)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3, lty = dotted)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3, lty = "dotted")
plot(density(rtn("000002.sz")), main = "万科", col = "blue", lwd = 3)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3, lty = "dotted")
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3, lty = "dashed")
plot(density(rtn("000002.sz")), main = "万科", col = "blue", lwd = 3)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3, lty = "dashed")
help(legend)
chartSeries(rtn("^GSPC", from = "1980-01-01")main = "Daily Change in S&P500", name = "Change in S&P500")
chartSeries(rtn("^GSPC", from = "1980-01-01"), main = "Daily Change in S&P500", name = "Change in S&P500")
abline(h = 0, col = "blue", lwd = 3)
plot(density(rtn("000002.sz")), main = "万科", col = "blue", lwd = 3)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3, lty = "dashed"l)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3, lty = "dashed"l)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3, lty = "dashed")
chartSeries(rtn("000002.sz"), name = "万科A：收益率")
x = rnorm(1000)
plot(x, main = "测试")
plot(density(rtn("000002.sz")), main = "万科", col = "blue", lwd = 3)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3, lty = "dashed")
legend(density(rtn("000002.sz")), density(rnorm(1000, 0, 2)), col = c("red", "blue"))
help(chartSeries)
plot(density(rtn("000002.sz")), main = "万科股票收益率的分布图", up.col = "red", dn.col = "green", lwd = 3)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 3, lty = "dashed")
plot(density(rtn("000002.sz")), main = "万科股票收益率的分布图", lwd = 3)
rtn <- function(stock.code, from = "2013-01-01"){
y <- getSymbols(stock.code, from = from, auto.assign = FALSE)
rtn <- diff(log(Cl(y)), 1) *100
rtn <- rtn[-1]
}
head(rtn("000002.sz"))
tail(rtn("000002.sz"))
chartSeries(rtn("000002.sz"), name = "万科A：收益率", col = "white")
plot(density(rtn("000002.sz")), main = "万科", col = "blue", lwd = 3)
lines(density(rnorm(1000, 0, 2)), col = "red", lwd = 2, lty = "dashed")
chartSeries(rtn("000002.sz"), name = "万科A：收益率")
addLines(h=0)
chartSeries(rtn("000002.sz"), name = "万科A：收益率")
addLines(h = 0, lwd = 3, lty = "dashed")
addLines(h = 0, lwd = 3)
addLines(h = 0)
help(addLines)
chartSeries(rtn("000002.sz"), name = "万科A：收益率")
abline(h= 0)
abline(h= 0, col = "red", lwd = 3, lty = "dashed")
chartSeries(rtn("000002.sz"), name = "万科A：收益率")
abline(h= 0, col = "red", lwd = 3, lty = "dashed")
chartSeries(rtn("000002.sz"), name = "万科A：收益率")
abline(h= 0, col = "red", lwd = 2, lty = "dashed")
chartSeries(rtn("^GSPC", from = "1980-01-01"), name = "Change in S&P500")
abline(h = 0, col = "red", lwd = 2, lty = "dashed")
nsim <- 100
X <- matrix(rnorm(n = nsim * (length(t) - 1), sd = sqrt(sig2)), nsim, length(t) -
1)
X <- cbind(rep(0, nsim), t(apply(X, 1, cumsum)))
plot(t, X[1, ], xlab = "time", ylab = "phenotype", ylim = c(-2, 2), type = "l")
apply(X[2:nsim, ], 1, function(x, t) lines(t, x), t = t)
nsim <- 100
X <- matrix(rnorm(n = nsim * (length(t) - 1), sd = sqrt(sig2)), nsim, length(t) -
1)
sig2 <- .02
X <- matrix(rnorm(n = nsim * (length(t) - 1), sd = sqrt(sig2)), nsim, length(t) -
1)
X <- cbind(rep(0, nsim), t(apply(X, 1, cumsum)))
plot(t, X[1, ], xlab = "time", ylab = "phenotype", ylim = c(-2, 2), type = "l")
apply(X[2:nsim, ], 1, function(x, t) lines(t, x), t = t)
X <- cbind(rep(0, nsim), t(apply(X, 1, cumsum)))
plot(t, X[1, ], xlab = "time", ylab = "phenotype", ylim = c(-2, 2), type = "l")
brownian <- function(n.times){
x <- y <- x.new <- y.new <- x.new.p <- y.new.p <- vector()
for(i in 1:n.times){
# Initialize variables
x <- rnorm(1)
y <- rnorm(1)
# concatenate variables
# to increase the vector size
x.new <- c(x.new,x)
y.new <- c(y.new,y)
# sum the vector numbers
x.new.p <- cumsum(x.new)
y.new.p <- cumsum(y.new)
# plot the model
plot(x.new.p,y.new.p,type="b",
main=paste("Brownian motion simulation in R\nTime =",i,sep=" "),
xlab="x coordinates",ylab="y coordinates",
col=c(rep("gray",i-1),"red"),
pch=c(rep(20,i-1),1))
}
}
# Test the function
# brownian(500)
#brownian(500)
brownian(500)
